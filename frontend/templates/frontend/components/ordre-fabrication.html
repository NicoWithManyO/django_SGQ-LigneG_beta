<!-- Composant Ordre de Fabrication -->
<div class="accordion-body bg-light" x-data="ordreFabrication()" x-init="init()">
    <!-- OF en cours -->
    <div class="row form-row">
        <div class="col-6">
            <label class="form-label">OF en cours</label>
            <div class="input-group">
                <select class="form-select" :disabled="!editingOF" x-model="ofEnCours" @blur="editingOF = false">
                    <option value="">--</option>
                    {% for of in fabrication_orders %}
                    <option value="{{ of.order_number }}">{{ of.order_number }} {% if of.required_length %}({{ of.required_length }}m){% endif %}</option>
                    {% endfor %}
                </select>
                <button class="btn btn-outline-secondary btn-edit-field" type="button" @click="toggleEditOF()">
                    <i class="bi bi-pencil"></i>
                </button>
            </div>
        </div>
        <div class="col-6">
            <!-- Vide pour l'instant -->
        </div>
    </div>
    
    <!-- Longueur cible -->
    <div class="row form-row">
        <div class="col-6">
            <label class="form-label">Longueur cible</label>
            <div class="input-group">
                <input type="text" class="form-control" :readonly="!editingLongueur" x-model="longueurCible" placeholder="m." 
                       @blur="if(editingLongueur) { editingLongueur = false; handleLongueurBlur(); }"
                       @keyup.enter="if(editingLongueur) { editingLongueur = false; handleLongueurBlur(); }">
                <button class="btn btn-outline-secondary btn-edit-field" type="button" @click="toggleEditLongueur()">
                    <i class="bi bi-pencil"></i>
                </button>
            </div>
        </div>
        <div class="col-6">
            <!-- Vide pour l'instant -->
        </div>
    </div>
    
    <!-- OF de découpe -->
    <div class="row form-row">
        <div class="col-6">
            <label class="form-label">OF de découpe</label>
            <div class="input-group">
                <select class="form-select" :disabled="!editingOFDecoupe" x-model="ofDecoupe" @blur="editingOFDecoupe = false">
                    <option value="">--</option>
                    {% for of in cutting_orders %}
                    <option value="{{ of.order_number }}">{{ of.order_number }} {% if of.required_length %}({{ of.required_length }}m){% endif %}</option>
                    {% endfor %}
                </select>
                <button class="btn btn-outline-secondary btn-edit-field" type="button" @click="toggleEditOFDecoupe()">
                    <i class="bi bi-pencil"></i>
                </button>
            </div>
        </div>
        <div class="col-6">
            <!-- Vide pour l'instant -->
        </div>
    </div>
</div>